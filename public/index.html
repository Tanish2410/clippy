<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />

  <title>Clippy</title> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #1a1a2e;
      overflow: hidden;
      width: 100vw; height: 100vh;
    }

    #canvas-container {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      display: flex; justify-content: center; align-items: center;
      z-index: 1;
    }

    .sidebar {
      position: fixed; right: 20px; top: 50%; transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
      border-radius: 20px; padding: 25px 20px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      z-index: 1000; max-height: 90vh; overflow-y: auto; width: 280px;
    }
    .sidebar::-webkit-scrollbar { width: 6px; }
    .sidebar::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 3px; }
    .sidebar-header { text-align: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #e2e8f0; }
    .sidebar-header h1 { font-size: 20px; font-weight: 700; color: #2d3748; letter-spacing: -0.5px; }
    .control-section { margin-bottom: 20px; }
    .control-label {
      display: block; font-size: 12px; font-weight: 600; color: #4a5568;
      margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;
    }
    
    .control-group { margin-bottom: 15px; }
    .color-picker-wrapper { display: flex; align-items: center; gap: 10px; }
    input[type="color"] {
      width: 50px; height: 50px; border: 3px solid #e2e8f0; border-radius: 12px; cursor: pointer; transition: all 0.2s;
    }
    input[type="color"]:hover { border-color: #667eea; transform: scale(1.05); }
    .slider-wrapper { display: flex; align-items: center; gap: 12px; }
    input[type="range"] {
      flex: 1; height: 6px; border-radius: 3px; background: #e2e8f0; outline: none; appearance: none; -webkit-appearance: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      appearance: none; -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); cursor: pointer;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); transition: all 0.2s;
    }
    input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.2); }
    input[type="range"]::-moz-range-thumb {
      width: 18px; height: 18px; border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); cursor: pointer; border: none;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .value-display { min-width: 30px; text-align: center; font-weight: 600; color: #667eea; font-size: 14px; }
    select, input[type="text"] {
      width: 100%; padding: 10px 12px; border: 2px solid #e2e8f0; border-radius: 10px;
      font-size: 14px; font-family: 'Inter', sans-serif; transition: all 0.2s; background: white; font-weight: 500;
    }
    select:focus, input[type="text"]:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
    button {
      width: 100%; padding: 12px 16px; border: none; border-radius: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; cursor: pointer;
      font-size: 14px; font-weight: 600; font-family: 'Inter', sans-serif; transition: all 0.3s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin-bottom: 10px;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); }
    button:active { transform: translateY(0); }
    button.clear { background: linear-gradient(135deg, #fc5c65 0%, #eb3b5a 100%); }
    button.save { background: linear-gradient(135deg, #26de81 0%, #20bf6b 100%); }
    button.secondary { background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%); margin-bottom: 0; }
    .layer-controls { display: flex; gap: 8px; align-items: center; }
    .layer-controls select { flex: 1; }
    .layer-controls button { width: auto; padding: 10px 14px; margin-bottom: 0; font-size: 13px; }
    .button-group {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
      margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0;
    }
    .button-group button { margin-bottom: 0; }
    .instructions {
      margin-top: 15px; padding: 12px; background: rgba(102, 126, 234, 0.1);
      border-radius: 10px; font-size: 11px; color: #4a5568; line-height: 1.5; text-align: center;
    }
    canvas { box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3); border-radius: 8px; }
    /* Game prompt pill inside sidebar */
    .game-prompt {
      margin-top: 8px; padding: 10px 12px; border-radius: 10px;
      background: #f1f5ff; color: #4c51bf; font-weight: 600; text-align: center;
      border: 1px solid #c3d0ff; min-height: 40px;
    }
  </style>
</head>
<body>
  <div id="canvas-container"></div>
  
  <div class="sidebar">
    <div class="sidebar-header">
      <h1>Clippy</h1>
    </div>
    
    <div class="control-section">
      <label class="control-label">Brush Color</label>
      <div class="control-group">
        <div class="color-picker-wrapper">
          <input type="color" id="colorPicker" value="#000000">
        </div>
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Brush Size</label>
      <div class="control-group">
        <div class="slider-wrapper">
          <input type="range" id="brushSize" min="1" max="50" value="10">
          <span id="brushSizeValue" class="value-display">10</span>
        </div>
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Tool</label>
      <div class="control-group">
        <select id="toolSelect">
          <option value="brush">Brush</option>
          <option value="eraser">Eraser</option>
          <option value="spray">Spray</option>
          <option value="line">Line</option>
          <option value="rectangle">Rectangle</option>
          <option value="circle">Circle</option>
          <option value="text">Text</option>
        </select>
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Text Input</label>
      <div class="control-group">
        <input id="textInput" type="text" placeholder="Type hereâ€¦">
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Text Size</label>
      <div class="control-group">
        <div class="slider-wrapper">
          <input type="range" id="textSize" min="8" max="96" value="24">
          <span id="textSizeValue" class="value-display">24</span>
        </div>
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Background</label>
      <div class="control-group">
        <div class="color-picker-wrapper">
          <input type="color" id="bgColorPicker" value="#ffffff" title="Pick background">
        </div>
      </div>
    </div>
    
    <div class="control-section">
      <label class="control-label">Layer</label>
      <div class="control-group">
        <div class="layer-controls">
          <select id="layerSelect" title="Active layer"></select>
          <button id="newLayerBtn" class="secondary" title="Add a new layer">+ New</button>
        </div>
      </div>
    </div>

    <!-- NEW: Game controls -->
    <div class="control-section">
      <label class="control-label">Game</label>
      <div class="control-group">
        <button id="startGameBtn" class="secondary" title="Start a drawing game">Start Game</button>
        <button id="stopGameBtn" class="clear" title="Stop the current game">Stop Game</button>
        <div id="gamePrompt" class="game-prompt" aria-live="polite"></div>
      </div>
    </div>
    
    <div class="button-group">
      <button id="clearBtn" class="clear" title="Clear active layer">Clear</button>
      <button id="saveBtn" class="save">Save</button>
    </div>
  </div>

  <script src="sketch.js"></script>
</body>
</html>